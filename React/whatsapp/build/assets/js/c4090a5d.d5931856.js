"use strict";(self.webpackChunkovrsea_whatsapp_tuto=self.webpackChunkovrsea_whatsapp_tuto||[]).push([[3312],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>m});var a=n(7294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function r(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var l=a.createContext({}),p=function(e){var t=a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},c=function(e){var t=p(e.components);return a.createElement(l.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},h=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,o=e.originalType,l=e.parentName,c=r(e,["components","mdxType","originalType","parentName"]),h=p(n),m=i,u=h["".concat(l,".").concat(m)]||h[m]||d[m]||o;return n?a.createElement(u,s(s({ref:t},c),{},{components:n})):a.createElement(u,s({ref:t},c))}));function m(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var o=n.length,s=new Array(o);s[0]=h;var r={};for(var l in t)hasOwnProperty.call(t,l)&&(r[l]=t[l]);r.originalType=e,r.mdxType="string"==typeof e?e:i,s[1]=r;for(var p=2;p<o;p++)s[p]=n[p];return a.createElement.apply(null,s)}return a.createElement.apply(null,n)}h.displayName="MDXCreateElement"},1787:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>s,default:()=>d,frontMatter:()=>o,metadata:()=>r,toc:()=>p});var a=n(7462),i=(n(7294),n(3905));const o={sidebar_label:"Step 1: Creating a basic React APP with a basic view",sidebar_position:1},s="Step 1: Creating a basic React APP with a basic view",r={unversionedId:"tuto-whatsapp/step1",id:"version-1.0.0/tuto-whatsapp/step1",title:"Step 1: Creating a basic React APP with a basic view",description:"[//]: # (head-end)",source:"@site/versioned_docs/version-1.0.0/tuto-whatsapp/step1.md",sourceDirName:"tuto-whatsapp",slug:"/tuto-whatsapp/step1",permalink:"/docs/1.0.0/tuto-whatsapp/step1",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/versioned_docs/version-1.0.0/tuto-whatsapp/step1.md",tags:[],version:"1.0.0",sidebarPosition:1,frontMatter:{sidebar_label:"Step 1: Creating a basic React APP with a basic view",sidebar_position:1},sidebar:"tutorialSidebar",previous:{title:"Introduction",permalink:"/docs/1.0.0/intro"},next:{title:"Step 2: Styling with Material UI and styled-components",permalink:"/docs/1.0.0/tuto-whatsapp/step2"}},l={},p=[{value:"Review the generated code",id:"review-the-generated-code",level:3},{value:"create-react-app",id:"create-react-app",level:3},{value:"Whatsapp Clone Client",id:"whatsapp-clone-client",level:4},{value:"Added public/index.html",id:"added-publicindexhtml",level:5},{value:"<strong>Client</strong> Step 1.1: Rename the app",id:"client-step-11-rename-the-app",level:4},{value:"Changed public/index.html",id:"changed-publicindexhtml",level:5},{value:"<strong>Client</strong> Step 1.1: Rename the app",id:"client-step-11-rename-the-app-1",level:4},{value:"Changed public/manifest.json",id:"changed-publicmanifestjson",level:5},{value:"Whatsapp Clone Client",id:"whatsapp-clone-client-1",level:4},{value:"Added src/index.tsx",id:"added-srcindextsx",level:5},{value:"Whatsapp Clone Client",id:"whatsapp-clone-client-2",level:4},{value:"Added package.json",id:"added-packagejson",level:5},{value:"Whatsapp Clone Client",id:"whatsapp-clone-client-3",level:4},{value:"Added tsconfig.json",id:"added-tsconfigjson",level:5},{value:"Whatsapp Clone Client",id:"whatsapp-clone-client-4",level:4},{value:"Added src/App.tsx",id:"added-srcapptsx",level:5},{value:"Pin dependencies and save-exact",id:"pin-dependencies-and-save-exact",level:2},{value:"<strong>Client</strong> Step 1.2: Pin dependencies",id:"client-step-12-pin-dependencies",level:4},{value:"Changed package.json",id:"changed-packagejson",level:5},{value:"<strong>Client</strong> Step 1.2: Pin dependencies",id:"client-step-12-pin-dependencies-1",level:4},{value:"Added .npmrc",id:"added-npmrc",level:5},{value:"git and saving your code on Github",id:"git-and-saving-your-code-on-github",level:2},{value:"Code formatting",id:"code-formatting",level:2},{value:"<strong>Client</strong> Step 1.3: Use Prettier",id:"client-step-13-use-prettier",level:4},{value:"Added .prettierignore",id:"added-prettierignore",level:5},{value:"Added .prettierrc.yml",id:"added-prettierrcyml",level:5},{value:"Changed package.json",id:"changed-packagejson-1",level:5},{value:"<strong>Client</strong> Step 1.3: Use Prettier",id:"client-step-13-use-prettier-1",level:4},{value:"Changed src/App.tsx",id:"changed-srcapptsx",level:5},{value:"<strong>Client</strong> Step 1.4: Create ChatsList screen",id:"client-step-14-create-chatslist-screen",level:4},{value:"Changed src/App.tsx",id:"changed-srcapptsx-1",level:5},{value:"<strong>Client</strong> Step 1.5: Move ChatsList to a component",id:"client-step-15-move-chatslist-to-a-component",level:4},{value:"Added src/components/ChatsList.tsx",id:"added-srccomponentschatslisttsx",level:5},{value:"<strong>Client</strong> Step 1.5: Move ChatsList to a component",id:"client-step-15-move-chatslist-to-a-component-1",level:4},{value:"Changed src/App.tsx",id:"changed-srcapptsx-2",level:5},{value:"<strong>Client</strong> Step 1.6: Move ChatsNavbar to a component",id:"client-step-16-move-chatsnavbar-to-a-component",level:4},{value:"Changed src/App.tsx",id:"changed-srcapptsx-3",level:5},{value:"Added src/components/ChatsNavbar.tsx",id:"added-srccomponentschatsnavbartsx",level:5},{value:"<strong>Client</strong> Step 1.7: Move all ChatsListScreen into a folder",id:"client-step-17-move-all-chatslistscreen-into-a-folder",level:4},{value:"Changed src/App.tsx",id:"changed-srcapptsx-4",level:5},{value:"Renamed from src/components/ChatsList.tsx to src/components/ChatsListScreen/ChatsList.tsx",id:"renamed-from-srccomponentschatslisttsx-to-srccomponentschatslistscreenchatslisttsx",level:5},{value:"Renamed from src/components/ChatsNavbar.tsx to src/components/ChatsListScreen/ChatsNavbar.tsx",id:"renamed-from-srccomponentschatsnavbartsx-to-srccomponentschatslistscreenchatsnavbartsx",level:5},{value:"Added src/components/ChatsListScreen/index.tsx",id:"added-srccomponentschatslistscreenindextsx",level:5},{value:"<strong>Client</strong> Step 1.8: Attach unique keys to ChatsList",id:"client-step-18-attach-unique-keys-to-chatslist",level:4},{value:"Added src/db.ts",id:"added-srcdbts",level:5},{value:"<strong>Client</strong> Step 1.8: Attach unique keys to ChatsList",id:"client-step-18-attach-unique-keys-to-chatslist-1",level:4},{value:"Changed src/components/ChatsListScreen/ChatsList.tsx",id:"changed-srccomponentschatslistscreenchatslisttsx",level:5},{value:"<strong>Client</strong> Step 1.9: Failed try to add last message to ChatsList",id:"client-step-19-failed-try-to-add-last-message-to-chatslist",level:4},{value:"Changed src/components/ChatsListScreen/ChatsList.tsx",id:"changed-srccomponentschatslistscreenchatslisttsx-1",level:5},{value:"<strong>Client</strong> Step 1.10: Second failed try to add last message to ChatsList",id:"client-step-110-second-failed-try-to-add-last-message-to-chatslist",level:4},{value:"Changed src/components/ChatsListScreen/ChatsList.tsx",id:"changed-srccomponentschatslistscreenchatslisttsx-2",level:5},{value:"<strong>Client</strong> Step 1.11: Third failed try to add last message to ChatsList",id:"client-step-111-third-failed-try-to-add-last-message-to-chatslist",level:4},{value:"Changed src/components/ChatsListScreen/ChatsList.tsx",id:"changed-srccomponentschatslistscreenchatslisttsx-3",level:5},{value:"<strong>Client</strong> Step 1.12: Success adding last message to ChatsList",id:"client-step-112-success-adding-last-message-to-chatslist",level:4},{value:"Changed src/components/ChatsListScreen/ChatsList.tsx",id:"changed-srccomponentschatslistscreenchatslisttsx-4",level:5}],c={toc:p};function d(e){let{components:t,...n}=e;return(0,i.kt)("wrapper",(0,a.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"step-1-creating-a-basic-react-app-with-a-basic-view"},"Step 1: Creating a basic React APP with a basic view"),(0,i.kt)("p",null,"When starting to build an app, there are two points we can start from:"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"Data structure - What data the app stores and produces and what actions can be done to modify that data"),(0,i.kt)("li",{parentName:"ol"},"The UI (User Interface) - How does the app looks to the user")),(0,i.kt)("p",null,"In this tutorial we will start with the UI (User Interface), but that doesn't mean you should always start there.\nThat is the visible part of our app that our users will see and interact with."),(0,i.kt)("p",null,"In this chapter we will learn how to create a basic React app.\nThe app will contain a basic view that will render a list of conversations within our app.\nWe will gradually create our app, so for now, instead of using real data, we will use in-memory fake data instead of calling a server."),(0,i.kt)("p",null,"In order to save time, instead of starting from scratch, we will use a boilerplate to kick-start our application.\nWhen it comes to React apps, the most popular boilerplate is ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/facebook/create-react-app"},(0,i.kt)("inlineCode",{parentName:"a"},"create-react-app")),"\nwhich is also officially maintained by Facebook, the creators of ",(0,i.kt)("a",{parentName:"p",href:"https://reactjs.org/"},"React"),"."),(0,i.kt)("p",null,"We'll launch ",(0,i.kt)("inlineCode",{parentName:"p"},"create-react-app")," using ",(0,i.kt)("inlineCode",{parentName:"p"},"yarn create")," (so we won't need to install ",(0,i.kt)("inlineCode",{parentName:"p"},"create-react-app")," permanently),\nand run the ",(0,i.kt)("inlineCode",{parentName:"p"},"react-app")," command to create the basis for our WhatsApp Clone."),(0,i.kt)("p",null,"In your command line, navigate to the folder you want to put your app's folder in and run:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"$ yarn create react-app whatsapp-clone-client --template typescript\n")),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},"Note how we used the ",(0,i.kt)("inlineCode",{parentName:"p"},"client")," postfix. That's because we're planning to create a server as well on later chapters.")),(0,i.kt)("p",null,"It will create a directory called ",(0,i.kt)("inlineCode",{parentName:"p"},"whatsapp-clone-client")," inside the current folder.\nInside that directory, it will generate the initial project structure and install the needed dependencies.\nNo configuration or complicated folder structures, just the files you need to build your app."),(0,i.kt)("h3",{id:"review-the-generated-code"},"Review the generated code"),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},"In our project, we're gonna use ",(0,i.kt)("a",{parentName:"p",href:"https://www.typescriptlang.org/"},"TypeScript")," (indicated by the ",(0,i.kt)("inlineCode",{parentName:"p"},"--typescript")," command).\nThe main advantage of using TypeScript over using plain JavaScript is that if we want, we get to tell the compiler what types and data structures we expect in certain places,\nso that the compiler (which unlike a human never forgets) will remind us when we make a mistake and assume something that is not true.\nThe more information we will provide to the compiler, the more the compiler will be able to help us.")),(0,i.kt)("p",null,"Once the installation is done, you can open your project folder:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"$ cd whatsapp-clone-client\n")),(0,i.kt)("p",null,"Inside the newly created project, you can run some built-in commands:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"$ yarn start\n")),(0,i.kt)("p",null,"Runs the app in development mode. Open ",(0,i.kt)("inlineCode",{parentName:"p"},"[http://localhost:3000](http://localhost:3000)")," to view it in the browser:"),(0,i.kt)("p",null,(0,i.kt)("img",{parentName:"p",src:"https://user-images.githubusercontent.com/7648874/54026782-025f8080-41da-11e9-9a4e-796fe15e8d03.png",alt:"boilerplate-page"})),(0,i.kt)("h3",{id:"create-react-app"},"create-react-app"),(0,i.kt)("p",null,"Let's look at what create-react-app has created for us in order to understand everything that's going on."),(0,i.kt)("p",null,"First thing, let's look at what webpage is being served to the browser.\nThat webpage in ",(0,i.kt)("inlineCode",{parentName:"p"},"index.html")," that sits under the ",(0,i.kt)("inlineCode",{parentName:"p"},"public")," folder."),(0,i.kt)("h4",{id:"whatsapp-clone-client"},(0,i.kt)("a",{parentName:"h4",href:"https://github.com/Urigo/WhatsApp-Clone-Client-React/commit/8ec451ec5bcbfa23e18c847c2393d243547c9001"},"Whatsapp Clone Client")),(0,i.kt)("h5",{id:"added-publicindexhtml"},"Added public","/","index.html"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-diff"},'@@ -0,0 +1,43 @@\n+\u250a  \u250a 1\u250a<!DOCTYPE html>\n+\u250a  \u250a 2\u250a<html lang="en">\n+\u250a  \u250a 3\u250a  <head>\n+\u250a  \u250a 4\u250a    <meta charset="utf-8" />\n+\u250a  \u250a 5\u250a    <link rel="icon" href="%PUBLIC_URL%/favicon.ico" />\n+\u250a  \u250a 6\u250a    <meta name="viewport" content="width=device-width, initial-scale=1" />\n+\u250a  \u250a 7\u250a    <meta name="theme-color" content="#000000" />\n+\u250a  \u250a 8\u250a    <meta\n+\u250a  \u250a 9\u250a      name="description"\n+\u250a  \u250a10\u250a      content="Web site created using create-react-app"\n+\u250a  \u250a11\u250a    />\n+\u250a  \u250a12\u250a    <link rel="apple-touch-icon" href="%PUBLIC_URL%/logo192.png" />\n+\u250a  \u250a13\u250a    \x3c!--\n+\u250a  \u250a14\u250a      manifest.json provides metadata used when your web app is installed on a\n+\u250a  \u250a15\u250a      user\'s mobile device or desktop. See https://developers.google.com/web/fundamentals/web-app-manifest/\n+\u250a  \u250a16\u250a    --\x3e\n+\u250a  \u250a17\u250a    <link rel="manifest" href="%PUBLIC_URL%/manifest.json" />\n+\u250a  \u250a18\u250a    \x3c!--\n+\u250a  \u250a19\u250a      Notice the use of %PUBLIC_URL% in the tags above.\n+\u250a  \u250a20\u250a      It will be replaced with the URL of the `public` folder during the build.\n+\u250a  \u250a21\u250a      Only files inside the `public` folder can be referenced from the HTML.\n+\u250a  \u250a22\u250a\n+\u250a  \u250a23\u250a      Unlike "/favicon.ico" or "favicon.ico", "%PUBLIC_URL%/favicon.ico" will\n+\u250a  \u250a24\u250a      work correctly both with client-side routing and a non-root public URL.\n+\u250a  \u250a25\u250a      Learn how to configure a non-root public URL by running `npm run build`.\n+\u250a  \u250a26\u250a    --\x3e\n+\u250a  \u250a27\u250a    <title>React App</title>\n+\u250a  \u250a28\u250a  </head>\n+\u250a  \u250a29\u250a  <body>\n+\u250a  \u250a30\u250a    <noscript>You need to enable JavaScript to run this app.</noscript>\n+\u250a  \u250a31\u250a    <div id="root"></div>\n+\u250a  \u250a32\u250a    \x3c!--\n+\u250a  \u250a33\u250a      This HTML file is a template.\n+\u250a  \u250a34\u250a      If you open it directly in the browser, you will see an empty page.\n+\u250a  \u250a35\u250a\n+\u250a  \u250a36\u250a      You can add webfonts, meta tags, or analytics to this file.\n+\u250a  \u250a37\u250a      The build step will place the bundled scripts into the <body> tag.\n+\u250a  \u250a38\u250a\n+\u250a  \u250a39\u250a      To begin the development, run `npm start` or `yarn start`.\n+\u250a  \u250a40\u250a      To create a production bundle, use `npm run build` or `yarn build`.\n+\u250a  \u250a41\u250a    --\x3e\n+\u250a  \u250a42\u250a  </body>\n+\u250a  \u250a43\u250a</html>\n')),(0,i.kt)("p",null,"As you can see, this file is a regular HTML file. You will want to edit it's ",(0,i.kt)("inlineCode",{parentName:"p"},"<title>")," to name our real app:"),(0,i.kt)("h4",{id:"client-step-11-rename-the-app"},(0,i.kt)("a",{parentName:"h4",href:"https://github.com/Urigo/WhatsApp-Clone-Client-React/commit/d8c0e66eb7e045be40cea60763cb6bd83d0d837f"},(0,i.kt)("strong",{parentName:"a"},"Client")," Step 1.1: Rename the app")),(0,i.kt)("h5",{id:"changed-publicindexhtml"},"Changed public","/","index.html"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-diff"},"@@ -24,7 +24,7 @@\n \u250a24\u250a24\u250a      work correctly both with client-side routing and a non-root public URL.\n \u250a25\u250a25\u250a      Learn how to configure a non-root public URL by running `npm run build`.\n \u250a26\u250a26\u250a    --\x3e\n-\u250a27\u250a  \u250a    <title>React App</title>\n+\u250a  \u250a27\u250a    <title>WhatsApp Clone</title>\n \u250a28\u250a28\u250a  </head>\n \u250a29\u250a29\u250a  <body>\n \u250a30\u250a30\u250a    <noscript>You need to enable JavaScript to run this app.</noscript>\n")),(0,i.kt)("p",null,"In the ",(0,i.kt)("inlineCode",{parentName:"p"},"public")," folder we will place assets that are not going to change, like ",(0,i.kt)("inlineCode",{parentName:"p"},"favicon.ico"),", static images and the HTML templates."),(0,i.kt)("p",null,"When we will prepare to app for production, a script from ",(0,i.kt)("inlineCode",{parentName:"p"},"create-react-app")," will place those assets in a build folder and reference them into the\nHTML template."),(0,i.kt)("p",null,"Another file in the ",(0,i.kt)("inlineCode",{parentName:"p"},"public")," folder is the ",(0,i.kt)("inlineCode",{parentName:"p"},"manifest.json")," file that gives browsers information about our app in case the users will install the app permanently on their\nmobile phones or desktop apps.\nYou can read more about it here: ",(0,i.kt)("a",{parentName:"p",href:"https://developers.google.com/web/fundamentals/web-app-manifest/"},"https://developers.google.com/web/fundamentals/web-app-manifest/"),"."),(0,i.kt)("h4",{id:"client-step-11-rename-the-app-1"},(0,i.kt)("a",{parentName:"h4",href:"https://github.com/Urigo/WhatsApp-Clone-Client-React/commit/d8c0e66eb7e045be40cea60763cb6bd83d0d837f"},(0,i.kt)("strong",{parentName:"a"},"Client")," Step 1.1: Rename the app")),(0,i.kt)("h5",{id:"changed-publicmanifestjson"},"Changed public","/","manifest.json"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-diff"},'@@ -1,6 +1,6 @@\n \u250a1\u250a1\u250a{\n-\u250a2\u250a \u250a  "short_name": "React App",\n-\u250a3\u250a \u250a  "name": "Create React App Sample",\n+\u250a \u250a2\u250a  "short_name": "WhatsApp Clone",\n+\u250a \u250a3\u250a  "name": "An open source chat app",\n \u250a4\u250a4\u250a  "icons": [\n \u250a5\u250a5\u250a    {\n \u250a6\u250a6\u250a      "src": "favicon.ico",\n')),(0,i.kt)("p",null,"Now the HTML file has in it's ",(0,i.kt)("inlineCode",{parentName:"p"},"<body>")," tag just one ",(0,i.kt)("inlineCode",{parentName:"p"},'<div id="root"></div>')," tag which is empty.\nSo how do we get the nice React logo that is being rendered onto our screen?"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"create-react-app")," has scripts that will run the ",(0,i.kt)("inlineCode",{parentName:"p"},"src/index.tsx")," file together with our HTML template, so let's look what this file is doing."),(0,i.kt)("h4",{id:"whatsapp-clone-client-1"},(0,i.kt)("a",{parentName:"h4",href:"https://github.com/Urigo/WhatsApp-Clone-Client-React/commit/8ec451ec5bcbfa23e18c847c2393d243547c9001"},"Whatsapp Clone Client")),(0,i.kt)("h5",{id:"added-srcindextsx"},"Added src","/","index.tsx"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-diff"},"@@ -0,0 +1,17 @@\n+\u250a  \u250a 1\u250aimport React from 'react';\n+\u250a  \u250a 2\u250aimport ReactDOM from 'react-dom';\n+\u250a  \u250a 3\u250aimport './index.css';\n+\u250a  \u250a 4\u250aimport App from './App';\n+\u250a  \u250a 5\u250aimport * as serviceWorker from './serviceWorker';\n+\u250a  \u250a 6\u250a\n+\u250a  \u250a 7\u250aReactDOM.render(\n+\u250a  \u250a 8\u250a  <React.StrictMode>\n+\u250a  \u250a 9\u250a    <App />\n+\u250a  \u250a10\u250a  </React.StrictMode>,\n+\u250a  \u250a11\u250a  document.getElementById('root')\n+\u250a  \u250a12\u250a);\n+\u250a  \u250a13\u250a\n+\u250a  \u250a14\u250a// If you want your app to work offline and load faster, you can change\n+\u250a  \u250a15\u250a// unregister() to register() below. Note this comes with some pitfalls.\n+\u250a  \u250a16\u250a// Learn more about service workers: https://bit.ly/CRA-PWA\n+\u250a  \u250a17\u250aserviceWorker.unregister();\n")),(0,i.kt)("p",null,"The important thing to see here is that ",(0,i.kt)("inlineCode",{parentName:"p"},"React")," is calling it's render method and telling it to render the ",(0,i.kt)("inlineCode",{parentName:"p"},"App")," component into a document where ",(0,i.kt)("inlineCode",{parentName:"p"},"id")," equals ",(0,i.kt)("inlineCode",{parentName:"p"},"root"),"."),(0,i.kt)("p",null,"So now you know where React is coming into our html template."),(0,i.kt)("p",null,"But where does the ",(0,i.kt)("inlineCode",{parentName:"p"},"App")," React component comes from and where does ",(0,i.kt)("inlineCode",{parentName:"p"},"React")," itself comes from?"),(0,i.kt)("p",null,"The ",(0,i.kt)("inlineCode",{parentName:"p"},"index.tsx")," file imports this code from outside of the file using the ",(0,i.kt)("inlineCode",{parentName:"p"},"import")," command."),(0,i.kt)("p",null,"In the case of the ",(0,i.kt)("inlineCode",{parentName:"p"},"App")," component, we can see it bring it from the path './App', which is in the same folder ('src')."),(0,i.kt)("p",null,"Getting React, it is simply calling it by name instead of a path. That means that the import will automatically look for a folder named ",(0,i.kt)("inlineCode",{parentName:"p"},"react")," under the ",(0,i.kt)("inlineCode",{parentName:"p"},"node-modules")," folder."),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"node-modules")," is a default folder which will include all of the libraries we want to use in our app."),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"https://yarnpkg.com"},"yarn")," will install those libraries according to the dependencies listed inside the ",(0,i.kt)("inlineCode",{parentName:"p"},"package.json")," file, so let's look into that."),(0,i.kt)("p",null,"Under dependencies you can see all the libraries our app currently depends on."),(0,i.kt)("h4",{id:"whatsapp-clone-client-2"},(0,i.kt)("a",{parentName:"h4",href:"https://github.com/Urigo/WhatsApp-Clone-Client-React/commit/8ec451ec5bcbfa23e18c847c2393d243547c9001"},"Whatsapp Clone Client")),(0,i.kt)("h5",{id:"added-packagejson"},"Added package.json"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-diff"},'@@ -0,0 +1,43 @@\n+\u250a  \u250a 1\u250a{\n+\u250a  \u250a 2\u250a  "name": "whatsapp-clone-client",\n+\u250a  \u250a 3\u250a  "version": "0.1.0",\n+\u250a  \u250a 4\u250a  "private": true,\n+\u250a  \u250a 5\u250a  "repository": {\n+\u250a  \u250a 6\u250a    "type": "git",\n+\u250a  \u250a 7\u250a    "url": "https://github.com/Urigo/WhatsApp-Clone-Client-React.git"\n+\u250a  \u250a 8\u250a  },\n+\u250a  \u250a 9\u250a  "dependencies": {\n+\u250a  \u250a10\u250a    "@testing-library/jest-dom": "^4.2.4",\n+\u250a  \u250a11\u250a    "@testing-library/react": "^9.3.2",\n+\u250a  \u250a12\u250a    "@testing-library/user-event": "^7.1.2",\n+\u250a  \u250a13\u250a    "@types/jest": "^24.0.0",\n+\u250a  \u250a14\u250a    "@types/node": "^12.0.0",\n+\u250a  \u250a15\u250a    "@types/react": "^16.9.0",\n+\u250a  \u250a16\u250a    "@types/react-dom": "^16.9.0",\n+\u250a  \u250a17\u250a    "react": "^16.13.1",\n+\u250a  \u250a18\u250a    "react-dom": "^16.13.1",\n+\u250a  \u250a19\u250a    "react-scripts": "3.4.1",\n+\u250a  \u250a20\u250a    "typescript": "~3.7.2"\n+\u250a  \u250a21\u250a  },\n+\u250a  \u250a22\u250a  "scripts": {\n+\u250a  \u250a23\u250a    "start": "react-scripts start",\n+\u250a  \u250a24\u250a    "build": "react-scripts build",\n+\u250a  \u250a25\u250a    "test": "react-scripts test",\n+\u250a  \u250a26\u250a    "eject": "react-scripts eject"\n+\u250a  \u250a27\u250a  },\n+\u250a  \u250a28\u250a  "eslintConfig": {\n+\u250a  \u250a29\u250a    "extends": "react-app"\n+\u250a  \u250a30\u250a  },\n+\u250a  \u250a31\u250a  "browserslist": {\n+\u250a  \u250a32\u250a    "production": [\n+\u250a  \u250a33\u250a      ">0.2%",\n+\u250a  \u250a34\u250a      "not dead",\n+\u250a  \u250a35\u250a      "not op_mini all"\n+\u250a  \u250a36\u250a    ],\n+\u250a  \u250a37\u250a    "development": [\n+\u250a  \u250a38\u250a      "last 1 chrome version",\n+\u250a  \u250a39\u250a      "last 1 firefox version",\n+\u250a  \u250a40\u250a      "last 1 safari version"\n+\u250a  \u250a41\u250a    ]\n+\u250a  \u250a42\u250a  }\n+\u250a  \u250a43\u250a}\n')),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"### Editor ideas notes start:\n\nVersion dependencies solver - different ideas\nMultiple versions install vs. single version\nLook at lock files\nlook at npm_modules\nYarn 2.0\n\nTalk about StrictMode https://reactjs.org/docs/strict-mode.html\n\n### Editor ideas notes end:\n")),(0,i.kt)("p",null,"You can also see other values in there like ",(0,i.kt)("inlineCode",{parentName:"p"},"scripts"),", which will teach ",(0,i.kt)("inlineCode",{parentName:"p"},"yarn")," new commands that we can use.\nThe right side will name the command and the left would be the actual command that it will run."),(0,i.kt)("p",null,"Another file that got created is ",(0,i.kt)("inlineCode",{parentName:"p"},"tsconfig.json"),":"),(0,i.kt)("h4",{id:"whatsapp-clone-client-3"},(0,i.kt)("a",{parentName:"h4",href:"https://github.com/Urigo/WhatsApp-Clone-Client-React/commit/8ec451ec5bcbfa23e18c847c2393d243547c9001"},"Whatsapp Clone Client")),(0,i.kt)("h5",{id:"added-tsconfigjson"},"Added tsconfig.json"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-diff"},'@@ -0,0 +1,25 @@\n+\u250a  \u250a 1\u250a{\n+\u250a  \u250a 2\u250a  "compilerOptions": {\n+\u250a  \u250a 3\u250a    "target": "es5",\n+\u250a  \u250a 4\u250a    "lib": [\n+\u250a  \u250a 5\u250a      "dom",\n+\u250a  \u250a 6\u250a      "dom.iterable",\n+\u250a  \u250a 7\u250a      "esnext"\n+\u250a  \u250a 8\u250a    ],\n+\u250a  \u250a 9\u250a    "allowJs": true,\n+\u250a  \u250a10\u250a    "skipLibCheck": true,\n+\u250a  \u250a11\u250a    "esModuleInterop": true,\n+\u250a  \u250a12\u250a    "allowSyntheticDefaultImports": true,\n+\u250a  \u250a13\u250a    "strict": true,\n+\u250a  \u250a14\u250a    "forceConsistentCasingInFileNames": true,\n+\u250a  \u250a15\u250a    "module": "esnext",\n+\u250a  \u250a16\u250a    "moduleResolution": "node",\n+\u250a  \u250a17\u250a    "resolveJsonModule": true,\n+\u250a  \u250a18\u250a    "isolatedModules": true,\n+\u250a  \u250a19\u250a    "noEmit": true,\n+\u250a  \u250a20\u250a    "jsx": "react"\n+\u250a  \u250a21\u250a  },\n+\u250a  \u250a22\u250a  "include": [\n+\u250a  \u250a23\u250a    "src"\n+\u250a  \u250a24\u250a  ]\n+\u250a  \u250a25\u250a}\n')),(0,i.kt)("p",null,"That file specifies options for the Typescript compiler when it takes our code and transforms it from Typescript into Javascript."),(0,i.kt)("p",null,"Some noticeable configuration options for that file are:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"target")," - What kind of Javascript should the compilers output? in our case ",(0,i.kt)("inlineCode",{parentName:"li"},"es5")," is the version of Javascript that is supported by many browsers.\nIf you know that your app would run only on newer browsers or a Node environment, you can change that value to a newer version and gain performance improvements."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"lib")," - If you are using new syntax from Javascript, the compiler can add to it's output libraries that would help you support the new syntax even if the browsers don't know those."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"strict")," - We can give Typescript a lot of information or not so much. The more we give it the more it can help us. adding the strict option will make the compiler warn us when we won't give it enough information.")),(0,i.kt)("p",null,"For the full set of options, check out the ",(0,i.kt)("a",{parentName:"p",href:"https://www.typescriptlang.org/docs/handbook/compiler-options.html"},"official docs"),";"),(0,i.kt)("p",null,"Now, let's look at our App's code in ",(0,i.kt)("inlineCode",{parentName:"p"},"src/App.tsx"),":"),(0,i.kt)("h4",{id:"whatsapp-clone-client-4"},(0,i.kt)("a",{parentName:"h4",href:"https://github.com/Urigo/WhatsApp-Clone-Client-React/commit/8ec451ec5bcbfa23e18c847c2393d243547c9001"},"Whatsapp Clone Client")),(0,i.kt)("h5",{id:"added-srcapptsx"},"Added src","/","App.tsx"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-diff"},'@@ -0,0 +1,26 @@\n+\u250a  \u250a 1\u250aimport React from \'react\';\n+\u250a  \u250a 2\u250aimport logo from \'./logo.svg\';\n+\u250a  \u250a 3\u250aimport \'./App.css\';\n+\u250a  \u250a 4\u250a\n+\u250a  \u250a 5\u250afunction App() {\n+\u250a  \u250a 6\u250a  return (\n+\u250a  \u250a 7\u250a    <div className="App">\n+\u250a  \u250a 8\u250a      <header className="App-header">\n+\u250a  \u250a 9\u250a        <img src={logo} className="App-logo" alt="logo" />\n+\u250a  \u250a10\u250a        <p>\n+\u250a  \u250a11\u250a          Edit <code>src/App.tsx</code> and save to reload.\n+\u250a  \u250a12\u250a        </p>\n+\u250a  \u250a13\u250a        <a\n+\u250a  \u250a14\u250a          className="App-link"\n+\u250a  \u250a15\u250a          href="https://reactjs.org"\n+\u250a  \u250a16\u250a          target="_blank"\n+\u250a  \u250a17\u250a          rel="noopener noreferrer"\n+\u250a  \u250a18\u250a        >\n+\u250a  \u250a19\u250a          Learn React\n+\u250a  \u250a20\u250a        </a>\n+\u250a  \u250a21\u250a      </header>\n+\u250a  \u250a22\u250a    </div>\n+\u250a  \u250a23\u250a  );\n+\u250a  \u250a24\u250a}\n+\u250a  \u250a25\u250a\n+\u250a  \u250a26\u250aexport default App;\n')),(0,i.kt)("p",null,"We can see that our app is just a function named ",(0,i.kt)("inlineCode",{parentName:"p"},"App"),"."),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"const App")," means we declare a variable named ",(0,i.kt)("inlineCode",{parentName:"p"},"App")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"const")," means it cannot be changed after it has been declared (you can't do ",(0,i.kt)("inlineCode",{parentName:"p"},"App = XX;")," later in the app);"),(0,i.kt)("p",null,"Next we assign App with a function. Something like: ",(0,i.kt)("inlineCode",{parentName:"p"},"const App = () => {}"),".\nThat way of creating functions is called ",(0,i.kt)("inlineCode",{parentName:"p"},"arrow functions"),". It is almost equivalent to ",(0,i.kt)("inlineCode",{parentName:"p"},"const App = function(){}"),".\nSo it is a function that doesn't accept any parameters into it."),(0,i.kt)("p",null,"That function returns ",(0,i.kt)("inlineCode",{parentName:"p"},"jsx"),". A visual language from React that describes how our component should look like."),(0,i.kt)("p",null,"So all a React component is, is simply a function that returns how it look like."),(0,i.kt)("p",null,"We then export this function so that React could import it from ",(0,i.kt)("inlineCode",{parentName:"p"},"index.tsx"),"."),(0,i.kt)("p",null,"In our own component we will import things like the logo and styles that the component uses and those will be imported together with it each time\nsomething will import our component."),(0,i.kt)("p",null,"The last thing we haven't explained is the following part: ",(0,i.kt)("inlineCode",{parentName:"p"},"App: React.FC"),".\nThose are Typescript typings. Everything after ",(0,i.kt)("inlineCode",{parentName:"p"},":")," describes the types of the ",(0,i.kt)("inlineCode",{parentName:"p"},"App")," variable and has no affect on the behavior and execution of the app.\nIt will tell Typescript how ",(0,i.kt)("inlineCode",{parentName:"p"},"App")," is supposed to look like, so that in case we make a mistake, Typescript will warn us before we get the app running."),(0,i.kt)("p",null,"So what are the types of React.FC?  You can check it out inside by using command+click on it's name.\nYou see that it accepts ",(0,i.kt)("inlineCode",{parentName:"p"},"P")," as props into the component and needs to return ",(0,i.kt)("inlineCode",{parentName:"p"},"React.Element")," or ",(0,i.kt)("inlineCode",{parentName:"p"},"null"),"."),(0,i.kt)("p",null,"Let's test out how typescript typings work: Declare a Typescript interface named ",(0,i.kt)("inlineCode",{parentName:"p"},"AppProps")," that includes a property called ",(0,i.kt)("inlineCode",{parentName:"p"},"name")," of type string. Now use that interface to describe the shape that app's props should have: update the line that declares app to ",(0,i.kt)("inlineCode",{parentName:"p"},"const App: React.FC<AppProps> = ({name}) => {")),(0,i.kt)("p",null,"Now open the file ",(0,i.kt)("inlineCode",{parentName:"p"},"src/index.tsx"),".\nYou can see that our editor is calling out that there is an error in our code because no name prop is passed to the App component."),(0,i.kt)("p",null,"You will encounter those errors a lot as you develop.\nAlways read the errors all the way. Take your time to understand each sentence there because that will save you a lot of time.\nThat is true also when you are not programming and just encounter errors in the apps you are using..."),(0,i.kt)("p",null,"As the error message suggests, give the App component a name prop. If you pass a prop that is not a string like ",(0,i.kt)("inlineCode",{parentName:"p"},"true")," or ",(0,i.kt)("inlineCode",{parentName:"p"},"1+1"),", TypeScript will let you know with an error."),(0,i.kt)("p",null,"The default for React.FC is that there are no props passed inside so if we'll bring that back but keep sending the ",(0,i.kt)("inlineCode",{parentName:"p"},"name")," value from ",(0,i.kt)("inlineCode",{parentName:"p"},"index.tsx")," in the code, you should now get an error because you are passing a props that the component doesn't accept."),(0,i.kt)("p",null,"Those errors can be very useful when your app grows.\nMake sure to define types on the component itself like we have done now. It would make it easier to identify the issues."),(0,i.kt)("p",null,"Next, we have ",(0,i.kt)("inlineCode",{parentName:"p"},"App.css"),". This is used to style our App component.\nPlay around with changing some of the values and see how it changes your view.\nRight now the link between the styles and the components is done by class names (",(0,i.kt)("inlineCode",{parentName:"p"},"App-header"),", etc).\nLater on we'll learn better strategies of sorting our styles and making\nsure they are not touching components that we don't want them to affect."),(0,i.kt)("p",null,"Next file - ",(0,i.kt)("inlineCode",{parentName:"p"},"App.test.tsx"),".\nThis file contains automatic tests to make sure our app is doing what it's supposed to do."),(0,i.kt)("p",null,"We are programmers, that means that many times our job is to take something manual and making it automatic.\nThat's why we should also strive to automate things we do ourselves.\nType checking is one area, testing is another.  If we can automate tests and run them all the time, it can save us a lot of time\nand bring us a lot of confidence that when we change our code, we haven't destroyed anything."),(0,i.kt)("p",null,"The testing tool that create-react-app provides us with is ",(0,i.kt)("a",{parentName:"p",href:"https://jestjs.io/"},"Jest"),"."),(0,i.kt)("p",null,"Right now we have only one simple test - it renders the App React component and makes sure nothing crashes.\nRun the test by running ",(0,i.kt)("inlineCode",{parentName:"p"},"yarn test")," in the command line."),(0,i.kt)("p",null,"Now go and remove the export from the app component. see how the tests picked up immediately that something is wrong."),(0,i.kt)("p",null,"In a later chapter we'll learn how to test more things to make sure we get guarantees that things are working as expected."),(0,i.kt)("h2",{id:"pin-dependencies-and-save-exact"},"Pin dependencies and save-exact"),(0,i.kt)("p",null,"Checkout the package versions on the ",(0,i.kt)("inlineCode",{parentName:"p"},"package.json")," file."),(0,i.kt)("p",null,"you can see the ",(0,i.kt)("inlineCode",{parentName:"p"},"^")," sign.  That means that every time someone will get this code and run ",(0,i.kt)("inlineCode",{parentName:"p"},"yarn"),", what ",(0,i.kt)("inlineCode",{parentName:"p"},"yarn")," will do is to get the newest version on that range.\nWe don't want that. We want to first be notified when a new version is out and we want to explicitly update it."),(0,i.kt)("p",null,"That's why we need to add 2 things into our code:\nFirst, to delete all ",(0,i.kt)("inlineCode",{parentName:"p"},"^")," (while also let's update all dependencies to their current latest)."),(0,i.kt)("h4",{id:"client-step-12-pin-dependencies"},(0,i.kt)("a",{parentName:"h4",href:"https://github.com/Urigo/WhatsApp-Clone-Client-React/commit/f7741f3d202492b57b199a9ceb432eef0a9c6c76"},(0,i.kt)("strong",{parentName:"a"},"Client")," Step 1.2: Pin dependencies")),(0,i.kt)("h5",{id:"changed-packagejson"},"Changed package.json"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-diff"},'@@ -7,17 +7,17 @@\n \u250a 7\u250a 7\u250a    "url": "https://github.com/Urigo/WhatsApp-Clone-Client-React.git"\n \u250a 8\u250a 8\u250a  },\n \u250a 9\u250a 9\u250a  "dependencies": {\n-\u250a10\u250a  \u250a    "@testing-library/jest-dom": "^4.2.4",\n-\u250a11\u250a  \u250a    "@testing-library/react": "^9.3.2",\n-\u250a12\u250a  \u250a    "@testing-library/user-event": "^7.1.2",\n-\u250a13\u250a  \u250a    "@types/jest": "^24.0.0",\n-\u250a14\u250a  \u250a    "@types/node": "^12.0.0",\n-\u250a15\u250a  \u250a    "@types/react": "^16.9.0",\n-\u250a16\u250a  \u250a    "@types/react-dom": "^16.9.0",\n-\u250a17\u250a  \u250a    "react": "^16.13.1",\n-\u250a18\u250a  \u250a    "react-dom": "^16.13.1",\n+\u250a  \u250a10\u250a    "@testing-library/jest-dom": "5.8.0",\n+\u250a  \u250a11\u250a    "@testing-library/react": "10.0.4",\n+\u250a  \u250a12\u250a    "@testing-library/user-event": "10.3.2",\n+\u250a  \u250a13\u250a    "@types/jest": "25.2.3",\n+\u250a  \u250a14\u250a    "@types/node": "14.0.4",\n+\u250a  \u250a15\u250a    "@types/react": "16.9.35",\n+\u250a  \u250a16\u250a    "@types/react-dom": "16.9.8",\n+\u250a  \u250a17\u250a    "react": "16.13.1",\n+\u250a  \u250a18\u250a    "react-dom": "16.13.1",\n \u250a19\u250a19\u250a    "react-scripts": "3.4.1",\n-\u250a20\u250a  \u250a    "typescript": "~3.7.2"\n+\u250a  \u250a20\u250a    "typescript": "3.9.3"\n \u250a21\u250a21\u250a  },\n \u250a22\u250a22\u250a  "scripts": {\n \u250a23\u250a23\u250a    "start": "react-scripts start",\n')),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-diff"},'@@ -40,4 +40,4 @@\n \u250a40\u250a40\u250a      "last 1 safari version"\n \u250a41\u250a41\u250a    ]\n \u250a42\u250a42\u250a  }\n-\u250a43\u250a  \u250a}\n+\u250a  \u250a43\u250a}\ud83d\udeab\u21b5\n')),(0,i.kt)("p",null,"Second, to add the following command that will make each ",(0,i.kt)("inlineCode",{parentName:"p"},"yarn add <package-name>")," command automatically add the library without any additions or ",(0,i.kt)("inlineCode",{parentName:"p"},"^")," signs into it."),(0,i.kt)("h4",{id:"client-step-12-pin-dependencies-1"},(0,i.kt)("a",{parentName:"h4",href:"https://github.com/Urigo/WhatsApp-Clone-Client-React/commit/f7741f3d202492b57b199a9ceb432eef0a9c6c76"},(0,i.kt)("strong",{parentName:"a"},"Client")," Step 1.2: Pin dependencies")),(0,i.kt)("h5",{id:"added-npmrc"},"Added .npmrc"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-diff"},"@@ -0,0 +1 @@\n+\u250a \u250a1\u250asave-exact=true\n")),(0,i.kt)("p",null,"There is no need to upgrade your dependencies at all. If they work it's ok. But, it is highly recommended.\nPackages keep improving all the time with important things that would help your app and will save you time.\nIf you make it a routine to upgrade it makes it much easier then to upgrade every couple of months.\nIn order to discover if there are new versions of libraries there are 2 options."),(0,i.kt)("p",null,"One is to manually run a check every day or so to find new packages out there.\nYou can do that by going to your command line in the root folder of the project and type ",(0,i.kt)("inlineCode",{parentName:"p"},"yarn outdated"),"."),(0,i.kt)("p",null,"But if you want to get notified when there is a new version of your dependencies, you can check out ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/renovatebot/renovate"},"Renovate"),".\nIf your project is hosted somewhere, for example Github, it will analyze your ",(0,i.kt)("inlineCode",{parentName:"p"},"package.json")," and submit a new PR when a new release happened from one of your dependencies."),(0,i.kt)("h2",{id:"git-and-saving-your-code-on-github"},"git and saving your code on Github"),(0,i.kt)("p",null,"If you want to save your code somewhere where you can track versions, using ",(0,i.kt)("a",{parentName:"p",href:"https://git-scm.com/book/en/v2"},"git")," and ",(0,i.kt)("a",{parentName:"p",href:"https://guides.github.com/activities/hello-world/"},"Github")," is a good choice.\nHere is a nice guide to start: ",(0,i.kt)("a",{parentName:"p",href:"https://try.github.io/"},"https://try.github.io/"),"."),(0,i.kt)("p",null,"You can check out the ",(0,i.kt)("inlineCode",{parentName:"p"},".gitignore")," file create-react-app has set up for us in the root folder.\nThat file will tell ",(0,i.kt)("inlineCode",{parentName:"p"},".git")," what not to save and not to upload."),(0,i.kt)("h2",{id:"code-formatting"},"Code formatting"),(0,i.kt)("p",null,"Some developers write code in a different style than others and it might be annoying while doing code reviews or even merging conflicts. That's why we want to make it consistent. We're going to use ",(0,i.kt)("strong",{parentName:"p"},"Prettier")," which has an opinionated set of styling rules and supports many languages. Your IDE most likely supports it too."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"$ yarn add prettier\n")),(0,i.kt)("p",null,"We're going to define a npm script called ",(0,i.kt)("inlineCode",{parentName:"p"},"format"),", few styling rules and we're also going to ignore ",(0,i.kt)("em",{parentName:"p"},"node_modules"),":"),(0,i.kt)("h4",{id:"client-step-13-use-prettier"},(0,i.kt)("a",{parentName:"h4",href:"https://github.com/Urigo/WhatsApp-Clone-Client-React/commit/be6067b29648c6415e189e2d57f2214fff5911b1"},(0,i.kt)("strong",{parentName:"a"},"Client")," Step 1.3: Use Prettier")),(0,i.kt)("h5",{id:"added-prettierignore"},"Added .prettierignore"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-diff"},"@@ -0,0 +1,3 @@\n+\u250a \u250a1\u250anode_modules\n+\u250a \u250a2\u250a.prettierrc.yml\n+\u250a \u250a3\u250apackage.json\ud83d\udeab\u21b5\n")),(0,i.kt)("h5",{id:"added-prettierrcyml"},"Added .prettierrc.yml"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-diff"},"@@ -0,0 +1,3 @@\n+\u250a \u250a1\u250atabWidth: 2\n+\u250a \u250a2\u250asingleQuote: true\n+\u250a \u250a3\u250ajsxBracketSameLine: true\n")),(0,i.kt)("h5",{id:"changed-packagejson-1"},"Changed package.json"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-diff"},'@@ -14,6 +14,7 @@\n \u250a14\u250a14\u250a    "@types/node": "14.0.4",\n \u250a15\u250a15\u250a    "@types/react": "16.9.35",\n \u250a16\u250a16\u250a    "@types/react-dom": "16.9.8",\n+\u250a  \u250a17\u250a    "prettier": "2.0.5",\n \u250a17\u250a18\u250a    "react": "16.13.1",\n \u250a18\u250a19\u250a    "react-dom": "16.13.1",\n \u250a19\u250a20\u250a    "react-scripts": "3.4.1",\n')),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-diff"},'@@ -23,7 +24,8 @@\n \u250a23\u250a24\u250a    "start": "react-scripts start",\n \u250a24\u250a25\u250a    "build": "react-scripts build",\n \u250a25\u250a26\u250a    "test": "react-scripts test",\n-\u250a26\u250a  \u250a    "eject": "react-scripts eject"\n+\u250a  \u250a27\u250a    "eject": "react-scripts eject",\n+\u250a  \u250a28\u250a    "format": "prettier \\"**/*.{ts,tsx,css,graphql}\\" --write"\n \u250a27\u250a29\u250a  },\n \u250a28\u250a30\u250a  "eslintConfig": {\n \u250a29\u250a31\u250a    "extends": "react-app"\n')),(0,i.kt)("p",null,"Now let's run:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"$ yarn format\n")),(0,i.kt)("p",null,"Prettier should format your code:"),(0,i.kt)("h4",{id:"client-step-13-use-prettier-1"},(0,i.kt)("a",{parentName:"h4",href:"https://github.com/Urigo/WhatsApp-Clone-Client-React/commit/be6067b29648c6415e189e2d57f2214fff5911b1"},(0,i.kt)("strong",{parentName:"a"},"Client")," Step 1.3: Use Prettier")),(0,i.kt)("h5",{id:"changed-srcapptsx"},"Changed src","/","App.tsx"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-diff"},'@@ -14,8 +14,7 @@\n \u250a14\u250a14\u250a          className="App-link"\n \u250a15\u250a15\u250a          href="https://reactjs.org"\n \u250a16\u250a16\u250a          target="_blank"\n-\u250a17\u250a  \u250a          rel="noopener noreferrer"\n-\u250a18\u250a  \u250a        >\n+\u250a  \u250a17\u250a          rel="noopener noreferrer">\n \u250a19\u250a18\u250a          Learn React\n \u250a20\u250a19\u250a        </a>\n \u250a21\u250a20\u250a      </header>\n')),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},"Remember to run ",(0,i.kt)("inlineCode",{parentName:"p"},"yarn format")," before you commit your changes!")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"End of intro")),(0,i.kt)("p",null,"Assuming that everything is set, we will now create our first screen - ",(0,i.kt)("inlineCode",{parentName:"p"},"ChatsListScreen"),".\nThe ChatsListScreen component is responsible for showing the active conversations within our app."),(0,i.kt)("p",null,"It's best to first schematically plan how our view's gonna look like.\nThis would help us illustrate the intended view and also understand which React.Components / elements take part in it.\nThis is how our screen's gonna look like:"),(0,i.kt)("p",null,(0,i.kt)("img",{parentName:"p",src:"https://user-images.githubusercontent.com/7648874/54027873-01305280-41de-11e9-9df0-5ad9c9c2f226.png",alt:"chatslistscreen"})),(0,i.kt)("p",null,"Let's break down the image above and see what components are we gonna have in the ",(0,i.kt)("inlineCode",{parentName:"p"},"ChatsListScreen"),":"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Navbar -  Which should contain a simple static title for now."),(0,i.kt)("li",{parentName:"ul"},"ChatsList - Where each item's gonna contain some data regards the user we're chatting with and information about the chat.")),(0,i.kt)("p",null,"First let's remove the current React code and add our own code into it."),(0,i.kt)("p",null,"For now, let's create fake data on our HTML."),(0,i.kt)("p",null,"As this data will be changed and we are not going to manually add HTML tags every time there is a new message, let's move our data into a JSON structure.\nFor now it would be a structure we will manually create.\nThat way we can already make our React component behave like our final version."),(0,i.kt)("h4",{id:"client-step-14-create-chatslist-screen"},(0,i.kt)("a",{parentName:"h4",href:"https://github.com/Urigo/WhatsApp-Clone-Client-React/commit/4902f673efe6f39edbcc4e85b4304e8f722e5d81"},(0,i.kt)("strong",{parentName:"a"},"Client")," Step 1.4: Create ChatsList screen")),(0,i.kt)("h5",{id:"changed-srcapptsx-1"},"Changed src","/","App.tsx"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-diff"},'@@ -1,23 +1,31 @@\n \u250a 1\u250a 1\u250aimport React from \'react\';\n-\u250a 2\u250a  \u250aimport logo from \'./logo.svg\';\n-\u250a 3\u250a  \u250aimport \'./App.css\';\n \u250a 4\u250a 2\u250a\n \u250a 5\u250a 3\u250afunction App() {\n \u250a 6\u250a 4\u250a  return (\n-\u250a 7\u250a  \u250a    <div className="App">\n-\u250a 8\u250a  \u250a      <header className="App-header">\n-\u250a 9\u250a  \u250a        <img src={logo} className="App-logo" alt="logo" />\n-\u250a10\u250a  \u250a        <p>\n-\u250a11\u250a  \u250a          Edit <code>src/App.tsx</code> and save to reload.\n-\u250a12\u250a  \u250a        </p>\n-\u250a13\u250a  \u250a        <a\n-\u250a14\u250a  \u250a          className="App-link"\n-\u250a15\u250a  \u250a          href="https://reactjs.org"\n-\u250a16\u250a  \u250a          target="_blank"\n-\u250a17\u250a  \u250a          rel="noopener noreferrer">\n-\u250a18\u250a  \u250a          Learn React\n-\u250a19\u250a  \u250a        </a>\n-\u250a20\u250a  \u250a      </header>\n+\u250a  \u250a 5\u250a    <div>\n+\u250a  \u250a 6\u250a      <div>Whatsapp Clone</div>\n+\u250a  \u250a 7\u250a      <div>\n+\u250a  \u250a 8\u250a        <ul>\n+\u250a  \u250a 9\u250a          <li>\n+\u250a  \u250a10\u250a            <img\n+\u250a  \u250a11\u250a              src="https://randomuser.me/api/portraits/thumb/men/1.jpg"\n+\u250a  \u250a12\u250a              alt="Profile"\n+\u250a  \u250a13\u250a            />\n+\u250a  \u250a14\u250a            <div>Ethan Gonzalez</div>\n+\u250a  \u250a15\u250a            <div>You on your way?</div>\n+\u250a  \u250a16\u250a            <div>10:25</div>\n+\u250a  \u250a17\u250a          </li>\n+\u250a  \u250a18\u250a          <li>\n+\u250a  \u250a19\u250a            <img\n+\u250a  \u250a20\u250a              src="https://randomuser.me/api/portraits/thumb/men/2.jpg"\n+\u250a  \u250a21\u250a              alt="Profile"\n+\u250a  \u250a22\u250a            />\n+\u250a  \u250a23\u250a            <div>Bryan Wallace</div>\n+\u250a  \u250a24\u250a            <div>Hey, it\'s me</div>\n+\u250a  \u250a25\u250a            <div>13:27</div>\n+\u250a  \u250a26\u250a          </li>\n+\u250a  \u250a27\u250a        </ul>\n+\u250a  \u250a28\u250a      </div>\n \u250a21\u250a29\u250a    </div>\n \u250a22\u250a30\u250a  );\n \u250a23\u250a31\u250a}\n')),(0,i.kt)("p",null,"If all we do in the function is just returning a value, instead of ",(0,i.kt)("inlineCode",{parentName:"p"},"const App: React.FC = () => { return () };")," we can also do ",(0,i.kt)("inlineCode",{parentName:"p"},"const App: React.FC = () => ();"),"\nSo let's use that for our ChatsList component."),(0,i.kt)("p",null,"We have to import React to make sure it will work.\nWe also have to export our component function so that the ",(0,i.kt)("inlineCode",{parentName:"p"},"App")," component would be able to import it.\n(You can't import Javascript variables from a file if that file won't explicitly export it)."),(0,i.kt)("p",null,"As we don't use those styles and logos anymore, we can delete the ",(0,i.kt)("inlineCode",{parentName:"p"},"src/App.css")," and the ",(0,i.kt)("inlineCode",{parentName:"p"},"src/logo.svg")," files from our app."),(0,i.kt)("p",null,"Now let's move ChatsList into it's own component:"),(0,i.kt)("h4",{id:"client-step-15-move-chatslist-to-a-component"},(0,i.kt)("a",{parentName:"h4",href:"https://github.com/Urigo/WhatsApp-Clone-Client-React/commit/38b1355a2b7c13d2cd53fdae473aba2c3e4336e2"},(0,i.kt)("strong",{parentName:"a"},"Client")," Step 1.5: Move ChatsList to a component")),(0,i.kt)("h5",{id:"added-srccomponentschatslisttsx"},"Added src","/","components","/","ChatsList.tsx"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-diff"},'@@ -0,0 +1,28 @@\n+\u250a  \u250a 1\u250aimport React from \'react\';\n+\u250a  \u250a 2\u250a\n+\u250a  \u250a 3\u250aconst ChatsList: React.FC = () => (\n+\u250a  \u250a 4\u250a  <div>\n+\u250a  \u250a 5\u250a    <ul>\n+\u250a  \u250a 6\u250a      <li>\n+\u250a  \u250a 7\u250a        <img\n+\u250a  \u250a 8\u250a          src="https://randomuser.me/api/portraits/thumb/men/1.jpg"\n+\u250a  \u250a 9\u250a          alt="Profile"\n+\u250a  \u250a10\u250a        />\n+\u250a  \u250a11\u250a        <div>Ethan Gonzalez</div>\n+\u250a  \u250a12\u250a        <div>You on your way?</div>\n+\u250a  \u250a13\u250a        <div>10:25</div>\n+\u250a  \u250a14\u250a      </li>\n+\u250a  \u250a15\u250a      <li>\n+\u250a  \u250a16\u250a        <img\n+\u250a  \u250a17\u250a          src="https://randomuser.me/api/portraits/thumb/men/2.jpg"\n+\u250a  \u250a18\u250a          alt="Profile"\n+\u250a  \u250a19\u250a        />\n+\u250a  \u250a20\u250a        <div>Bryan Wallace</div>\n+\u250a  \u250a21\u250a        <div>Hey, it\'s me</div>\n+\u250a  \u250a22\u250a        <div>13:27</div>\n+\u250a  \u250a23\u250a      </li>\n+\u250a  \u250a24\u250a    </ul>\n+\u250a  \u250a25\u250a  </div>\n+\u250a  \u250a26\u250a);\n+\u250a  \u250a27\u250a\n+\u250a  \u250a28\u250aexport default ChatsList;\n')),(0,i.kt)("p",null,"and let's import that component into the App component and use the shorter syntax for the functional component:"),(0,i.kt)("h4",{id:"client-step-15-move-chatslist-to-a-component-1"},(0,i.kt)("a",{parentName:"h4",href:"https://github.com/Urigo/WhatsApp-Clone-Client-React/commit/38b1355a2b7c13d2cd53fdae473aba2c3e4336e2"},(0,i.kt)("strong",{parentName:"a"},"Client")," Step 1.5: Move ChatsList to a component")),(0,i.kt)("h5",{id:"changed-srcapptsx-2"},"Changed src","/","App.tsx"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-diff"},'@@ -1,31 +1,11 @@\n \u250a 1\u250a 1\u250aimport React from \'react\';\n+\u250a  \u250a 2\u250aimport ChatsList from \'./components/ChatsList\';\n \u250a 2\u250a 3\u250a\n \u250a 3\u250a 4\u250afunction App() {\n \u250a 4\u250a 5\u250a  return (\n \u250a 5\u250a 6\u250a    <div>\n \u250a 6\u250a 7\u250a      <div>Whatsapp Clone</div>\n-\u250a 7\u250a  \u250a      <div>\n-\u250a 8\u250a  \u250a        <ul>\n-\u250a 9\u250a  \u250a          <li>\n-\u250a10\u250a  \u250a            <img\n-\u250a11\u250a  \u250a              src="https://randomuser.me/api/portraits/thumb/men/1.jpg"\n-\u250a12\u250a  \u250a              alt="Profile"\n-\u250a13\u250a  \u250a            />\n-\u250a14\u250a  \u250a            <div>Ethan Gonzalez</div>\n-\u250a15\u250a  \u250a            <div>You on your way?</div>\n-\u250a16\u250a  \u250a            <div>10:25</div>\n-\u250a17\u250a  \u250a          </li>\n-\u250a18\u250a  \u250a          <li>\n-\u250a19\u250a  \u250a            <img\n-\u250a20\u250a  \u250a              src="https://randomuser.me/api/portraits/thumb/men/2.jpg"\n-\u250a21\u250a  \u250a              alt="Profile"\n-\u250a22\u250a  \u250a            />\n-\u250a23\u250a  \u250a            <div>Bryan Wallace</div>\n-\u250a24\u250a  \u250a            <div>Hey, it\'s me</div>\n-\u250a25\u250a  \u250a            <div>13:27</div>\n-\u250a26\u250a  \u250a          </li>\n-\u250a27\u250a  \u250a        </ul>\n-\u250a28\u250a  \u250a      </div>\n+\u250a  \u250a 8\u250a      <ChatsList />\n \u250a29\u250a 9\u250a    </div>\n \u250a30\u250a10\u250a  );\n \u250a31\u250a11\u250a}\n')),(0,i.kt)("p",null,"and let's do the same for our Navbar:"),(0,i.kt)("h4",{id:"client-step-16-move-chatsnavbar-to-a-component"},(0,i.kt)("a",{parentName:"h4",href:"https://github.com/Urigo/WhatsApp-Clone-Client-React/commit/4903c48064fc5d28ba50bd66e223857155738529"},(0,i.kt)("strong",{parentName:"a"},"Client")," Step 1.6: Move ChatsNavbar to a component")),(0,i.kt)("h5",{id:"changed-srcapptsx-3"},"Changed src","/","App.tsx"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-diff"},"@@ -1,10 +1,11 @@\n \u250a 1\u250a 1\u250aimport React from 'react';\n \u250a 2\u250a 2\u250aimport ChatsList from './components/ChatsList';\n+\u250a  \u250a 3\u250aimport ChatsNavbar from './components/ChatsNavbar';\n \u250a 3\u250a 4\u250a\n \u250a 4\u250a 5\u250afunction App() {\n \u250a 5\u250a 6\u250a  return (\n \u250a 6\u250a 7\u250a    <div>\n-\u250a 7\u250a  \u250a      <div>Whatsapp Clone</div>\n+\u250a  \u250a 8\u250a      <ChatsNavbar />\n \u250a 8\u250a 9\u250a      <ChatsList />\n \u250a 9\u250a10\u250a    </div>\n \u250a10\u250a11\u250a  );\n")),(0,i.kt)("h5",{id:"added-srccomponentschatsnavbartsx"},"Added src","/","components","/","ChatsNavbar.tsx"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-diff"},"@@ -0,0 +1,5 @@\n+\u250a \u250a1\u250aimport React from 'react';\n+\u250a \u250a2\u250a\n+\u250a \u250a3\u250aconst ChatsNavbar: React.FC = () => <div>Whatsapp Clone</div>;\n+\u250a \u250a4\u250a\n+\u250a \u250a5\u250aexport default ChatsNavbar;\n")),(0,i.kt)("p",null,"React apps tend to store React.Components under a directory located at ",(0,i.kt)("inlineCode",{parentName:"p"},"src/components"),", and so we're gonna follow this pattern.\nWe will create a directory called ChatsListScreen in the ",(0,i.kt)("inlineCode",{parentName:"p"},"components")," dir where we're simply gonna import and put together the Navbar and ChatsList components.\nThis is how the contents of that directory should look like:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"ChatsListScreen\n\u251c\u2500\u2500 index.tsx\n\u251c\u2500\u2500 ChatsList\n\u2514\u2500\u2500 ChatsNavbar\n")),(0,i.kt)("p",null,"We will use the ",(0,i.kt)("inlineCode",{parentName:"p"},"index.tsx")," file to define that component, this way we can import it using the directory name:"),(0,i.kt)("h4",{id:"client-step-17-move-all-chatslistscreen-into-a-folder"},(0,i.kt)("a",{parentName:"h4",href:"https://github.com/Urigo/WhatsApp-Clone-Client-React/commit/b3d6be0d390309149e8ec8da3091d3f7accf7e35"},(0,i.kt)("strong",{parentName:"a"},"Client")," Step 1.7: Move all ChatsListScreen into a folder")),(0,i.kt)("h5",{id:"changed-srcapptsx-4"},"Changed src","/","App.tsx"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-diff"},"@@ -1,14 +1,10 @@\n \u250a 1\u250a 1\u250aimport React from 'react';\n-\u250a 2\u250a  \u250aimport ChatsList from './components/ChatsList';\n-\u250a 3\u250a  \u250aimport ChatsNavbar from './components/ChatsNavbar';\n+\u250a  \u250a 2\u250aimport ChatsListScreen from './components/ChatsListScreen';\n \u250a 4\u250a 3\u250a\n-\u250a 5\u250a  \u250afunction App() {\n-\u250a 6\u250a  \u250a  return (\n-\u250a 7\u250a  \u250a    <div>\n-\u250a 8\u250a  \u250a      <ChatsNavbar />\n-\u250a 9\u250a  \u250a      <ChatsList />\n-\u250a10\u250a  \u250a    </div>\n-\u250a11\u250a  \u250a  );\n-\u250a12\u250a  \u250a}\n+\u250a  \u250a 4\u250aconst App: React.FC = () => (\n+\u250a  \u250a 5\u250a  <div>\n+\u250a  \u250a 6\u250a    <ChatsListScreen />\n+\u250a  \u250a 7\u250a  </div>\n+\u250a  \u250a 8\u250a);\n \u250a13\u250a 9\u250a\n \u250a14\u250a10\u250aexport default App;\n")),(0,i.kt)("h5",{id:"renamed-from-srccomponentschatslisttsx-to-srccomponentschatslistscreenchatslisttsx"},"Renamed from src","/","components","/","ChatsList.tsx to src","/","components","/","ChatsListScreen","/","ChatsList.tsx"),(0,i.kt)("h5",{id:"renamed-from-srccomponentschatsnavbartsx-to-srccomponentschatslistscreenchatsnavbartsx"},"Renamed from src","/","components","/","ChatsNavbar.tsx to src","/","components","/","ChatsListScreen","/","ChatsNavbar.tsx"),(0,i.kt)("h5",{id:"added-srccomponentschatslistscreenindextsx"},"Added src","/","components","/","ChatsListScreen","/","index.tsx"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-diff"},"@@ -0,0 +1,12 @@\n+\u250a  \u250a 1\u250aimport React from 'react';\n+\u250a  \u250a 2\u250aimport ChatsNavbar from './ChatsNavbar';\n+\u250a  \u250a 3\u250aimport ChatsList from './ChatsList';\n+\u250a  \u250a 4\u250a\n+\u250a  \u250a 5\u250aconst ChatsListScreen: React.FC = () => (\n+\u250a  \u250a 6\u250a  <div>\n+\u250a  \u250a 7\u250a    <ChatsNavbar />\n+\u250a  \u250a 8\u250a    <ChatsList />\n+\u250a  \u250a 9\u250a  </div>\n+\u250a  \u250a10\u250a);\n+\u250a  \u250a11\u250a\n+\u250a  \u250a12\u250aexport default ChatsListScreen;\n")),(0,i.kt)("p",null,"Now, we have our app rendering our view, but it is completely static and manual in the code."),(0,i.kt)("p",null,"If we had 10 messages, we wouldn't want to type all of those HTML tags again and again.\nAlso if the data will change, the app should do this update itself without the need of hand written code."),(0,i.kt)("p",null,"So let's create a file that lists just the data of our chats and then make our React component render a line for each entry in that file."),(0,i.kt)("p",null,"We will create the file in a JSON format:"),(0,i.kt)("h4",{id:"client-step-18-attach-unique-keys-to-chatslist"},(0,i.kt)("a",{parentName:"h4",href:"https://github.com/Urigo/WhatsApp-Clone-Client-React/commit/b8a8034a381234534cd8c5cbf65edc952d5b7d43"},(0,i.kt)("strong",{parentName:"a"},"Client")," Step 1.8: Attach unique keys to ChatsList")),(0,i.kt)("h5",{id:"added-srcdbts"},"Added src","/","db.ts"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-diff"},"@@ -0,0 +1,49 @@\n+\u250a  \u250a 1\u250aexport const messages = [\n+\u250a  \u250a 2\u250a  {\n+\u250a  \u250a 3\u250a    id: '1',\n+\u250a  \u250a 4\u250a    content: 'You on your way?',\n+\u250a  \u250a 5\u250a    createdAt: new Date(Date.now() - 60 * 1000 * 1000),\n+\u250a  \u250a 6\u250a  },\n+\u250a  \u250a 7\u250a  {\n+\u250a  \u250a 8\u250a    id: '2',\n+\u250a  \u250a 9\u250a    content: \"Hey, it's me\",\n+\u250a  \u250a10\u250a    createdAt: new Date(Date.now() - 2 * 60 * 1000 * 1000),\n+\u250a  \u250a11\u250a  },\n+\u250a  \u250a12\u250a  {\n+\u250a  \u250a13\u250a    id: '3',\n+\u250a  \u250a14\u250a    content: 'I should buy a boat',\n+\u250a  \u250a15\u250a    createdAt: new Date(Date.now() - 24 * 60 * 1000 * 1000),\n+\u250a  \u250a16\u250a  },\n+\u250a  \u250a17\u250a  {\n+\u250a  \u250a18\u250a    id: '4',\n+\u250a  \u250a19\u250a    content: 'This is wicked good ice cream.',\n+\u250a  \u250a20\u250a    createdAt: new Date(Date.now() - 14 * 24 * 60 * 1000 * 1000),\n+\u250a  \u250a21\u250a  },\n+\u250a  \u250a22\u250a];\n+\u250a  \u250a23\u250a\n+\u250a  \u250a24\u250aexport const chats = [\n+\u250a  \u250a25\u250a  {\n+\u250a  \u250a26\u250a    id: '1',\n+\u250a  \u250a27\u250a    name: 'Ethan Gonzalez',\n+\u250a  \u250a28\u250a    picture: 'https://randomuser.me/api/portraits/thumb/men/1.jpg',\n+\u250a  \u250a29\u250a    lastMessage: messages.find((m) => m.id === '1'),\n+\u250a  \u250a30\u250a  },\n+\u250a  \u250a31\u250a  {\n+\u250a  \u250a32\u250a    id: '2',\n+\u250a  \u250a33\u250a    name: 'Bryan Wallace',\n+\u250a  \u250a34\u250a    picture: 'https://randomuser.me/api/portraits/thumb/men/2.jpg',\n+\u250a  \u250a35\u250a    lastMessage: messages.find((m) => m.id === '2'),\n+\u250a  \u250a36\u250a  },\n+\u250a  \u250a37\u250a  {\n+\u250a  \u250a38\u250a    id: '3',\n+\u250a  \u250a39\u250a    name: 'Avery Stewart',\n+\u250a  \u250a40\u250a    picture: 'https://randomuser.me/api/portraits/thumb/women/1.jpg',\n+\u250a  \u250a41\u250a    lastMessage: messages.find((m) => m.id === '3'),\n+\u250a  \u250a42\u250a  },\n+\u250a  \u250a43\u250a  {\n+\u250a  \u250a44\u250a    id: '4',\n+\u250a  \u250a45\u250a    name: 'Katie Peterson',\n+\u250a  \u250a46\u250a    picture: 'https://randomuser.me/api/portraits/thumb/women/2.jpg',\n+\u250a  \u250a47\u250a    lastMessage: messages.find((m) => m.id === '4'),\n+\u250a  \u250a48\u250a  },\n+\u250a  \u250a49\u250a];\n")),(0,i.kt)("p",null,"We are giving IDs for the values just like a database gives a unique id for each value."),(0,i.kt)("p",null,"This is so we can reference specific values, for example,\nlast message would actually reference the other array instead of duplicating the values."),(0,i.kt)("p",null,"Now let's change ChatsList component to import the data from that file.\nThen to use the Javascript ",(0,i.kt)("a",{parentName:"p",href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map"},"map"),"\nfunction to render a line for each data entry:"),(0,i.kt)("h4",{id:"client-step-18-attach-unique-keys-to-chatslist-1"},(0,i.kt)("a",{parentName:"h4",href:"https://github.com/Urigo/WhatsApp-Clone-Client-React/commit/b8a8034a381234534cd8c5cbf65edc952d5b7d43"},(0,i.kt)("strong",{parentName:"a"},"Client")," Step 1.8: Attach unique keys to ChatsList")),(0,i.kt)("h5",{id:"changed-srccomponentschatslistscreenchatslisttsx"},"Changed src","/","components","/","ChatsListScreen","/","ChatsList.tsx"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-diff"},'@@ -1,26 +1,15 @@\n \u250a 1\u250a 1\u250aimport React from \'react\';\n+\u250a  \u250a 2\u250aimport { chats } from \'../../db\';\n \u250a 2\u250a 3\u250a\n \u250a 3\u250a 4\u250aconst ChatsList: React.FC = () => (\n \u250a 4\u250a 5\u250a  <div>\n \u250a 5\u250a 6\u250a    <ul>\n-\u250a 6\u250a  \u250a      <li>\n-\u250a 7\u250a  \u250a        <img\n-\u250a 8\u250a  \u250a          src="https://randomuser.me/api/portraits/thumb/men/1.jpg"\n-\u250a 9\u250a  \u250a          alt="Profile"\n-\u250a10\u250a  \u250a        />\n-\u250a11\u250a  \u250a        <div>Ethan Gonzalez</div>\n-\u250a12\u250a  \u250a        <div>You on your way?</div>\n-\u250a13\u250a  \u250a        <div>10:25</div>\n-\u250a14\u250a  \u250a      </li>\n-\u250a15\u250a  \u250a      <li>\n-\u250a16\u250a  \u250a        <img\n-\u250a17\u250a  \u250a          src="https://randomuser.me/api/portraits/thumb/men/2.jpg"\n-\u250a18\u250a  \u250a          alt="Profile"\n-\u250a19\u250a  \u250a        />\n-\u250a20\u250a  \u250a        <div>Bryan Wallace</div>\n-\u250a21\u250a  \u250a        <div>Hey, it\'s me</div>\n-\u250a22\u250a  \u250a        <div>13:27</div>\n-\u250a23\u250a  \u250a      </li>\n+\u250a  \u250a 7\u250a      {chats.map((chat) => (\n+\u250a  \u250a 8\u250a        <li key={chat.id}>\n+\u250a  \u250a 9\u250a          <img src={chat.picture} alt="Profile" />\n+\u250a  \u250a10\u250a          <div>{chat.name}</div>\n+\u250a  \u250a11\u250a        </li>\n+\u250a  \u250a12\u250a      ))}\n \u250a24\u250a13\u250a    </ul>\n \u250a25\u250a14\u250a  </div>\n \u250a26\u250a15\u250a);\n')),(0,i.kt)("p",null,"When running ",(0,i.kt)("inlineCode",{parentName:"p"},"map")," on the ",(0,i.kt)("inlineCode",{parentName:"p"},"chats")," array, it will run a function for each entry in the array and return a value.\nThe function will receive the current entry as a parameter.\nIn our case the function will get the current chat and will return a JSX line with the data of that specific chat."),(0,i.kt)("p",null,"Notice we are also adding the ",(0,i.kt)("inlineCode",{parentName:"p"},"key")," tag with the ID of each chat.\nIf you remove that and render again you will see the following error inside the console of your ",(0,i.kt)("a",{parentName:"p",href:"https://developers.google.com/web/tools/chrome-devtools/"},"Chrome developer tools"),":\n",(0,i.kt)("inlineCode",{parentName:"p"},'Warning: Each child in a list should have a unique "key" prop'),"."),(0,i.kt)("p",null,"By telling React how to identify and distinguish each element using the ",(0,i.kt)("inlineCode",{parentName:"p"},"key")," value we help solve that problem and also making React faster.\nRead ",(0,i.kt)("a",{parentName:"p",href:"https://reactjs.org/docs/lists-and-keys.html"},"here")," for more in depth explanation."),(0,i.kt)("p",null,"Now that we've rendered a line for each chat, let's add also the last message's content and creation date for each chat:"),(0,i.kt)("h4",{id:"client-step-19-failed-try-to-add-last-message-to-chatslist"},(0,i.kt)("a",{parentName:"h4",href:"https://github.com/Urigo/WhatsApp-Clone-Client-React/commit/bcc966ae8dce90395486cceb4405114aab7a2030"},(0,i.kt)("strong",{parentName:"a"},"Client")," Step 1.9: Failed try to add last message to ChatsList")),(0,i.kt)("h5",{id:"changed-srccomponentschatslistscreenchatslisttsx-1"},"Changed src","/","components","/","ChatsListScreen","/","ChatsList.tsx"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-diff"},'@@ -8,6 +8,8 @@\n \u250a 8\u250a 8\u250a        <li key={chat.id}>\n \u250a 9\u250a 9\u250a          <img src={chat.picture} alt="Profile" />\n \u250a10\u250a10\u250a          <div>{chat.name}</div>\n+\u250a  \u250a11\u250a          <div>{chat.lastMessage.content}</div>\n+\u250a  \u250a12\u250a          <div>{chat.lastMessage.createdAt}</div>\n \u250a11\u250a13\u250a        </li>\n \u250a12\u250a14\u250a      ))}\n \u250a13\u250a15\u250a    </ul>\n')),(0,i.kt)("p",null,"Try to run the app again."),(0,i.kt)("p",null,"You can see we get a Typescript error.\nThis is because Typescript is smart enough and tells us there might be no last message.\nSo we add a check.\nRemember to always check for null or undefined if optional, don\u2019t write shorter write safer:"),(0,i.kt)("h4",{id:"client-step-110-second-failed-try-to-add-last-message-to-chatslist"},(0,i.kt)("a",{parentName:"h4",href:"https://github.com/Urigo/WhatsApp-Clone-Client-React/commit/9c83c467156dec557c273d090a59c65d0ef0bb06"},(0,i.kt)("strong",{parentName:"a"},"Client")," Step 1.10: Second failed try to add last message to ChatsList")),(0,i.kt)("h5",{id:"changed-srccomponentschatslistscreenchatslisttsx-2"},"Changed src","/","components","/","ChatsListScreen","/","ChatsList.tsx"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-diff"},'@@ -8,8 +8,10 @@\n \u250a 8\u250a 8\u250a        <li key={chat.id}>\n \u250a 9\u250a 9\u250a          <img src={chat.picture} alt="Profile" />\n \u250a10\u250a10\u250a          <div>{chat.name}</div>\n+\u250a  \u250a11\u250a          {chat.lastMessage && (\n \u250a11\u250a12\u250a          <div>{chat.lastMessage.content}</div>\n \u250a12\u250a13\u250a          <div>{chat.lastMessage.createdAt}</div>\n+\u250a  \u250a14\u250a          )}\n \u250a13\u250a15\u250a        </li>\n \u250a14\u250a16\u250a      ))}\n \u250a15\u250a17\u250a    </ul>\n')),(0,i.kt)("p",null,"Now let's try again."),(0,i.kt)("p",null,"Now we have a syntax error - A JSX return value can't have more then a single root Element.\nSo in order to return a root element from the function but still display multiple elements in the same level,\nwe can use ",(0,i.kt)("a",{parentName:"p",href:"https://reactjs.org/docs/fragments.html"},"React.Fragment")," to wrap the returned elements. A fragment can be written either with ",(0,i.kt)("inlineCode",{parentName:"p"},"<>")," or simply ",(0,i.kt)("inlineCode",{parentName:"p"},"<>"),". We'll prefer the simple syntax."),(0,i.kt)("h4",{id:"client-step-111-third-failed-try-to-add-last-message-to-chatslist"},(0,i.kt)("a",{parentName:"h4",href:"https://github.com/Urigo/WhatsApp-Clone-Client-React/commit/e962d3ad08a30f34ee611df3f8290ef16f272252"},(0,i.kt)("strong",{parentName:"a"},"Client")," Step 1.11: Third failed try to add last message to ChatsList")),(0,i.kt)("h5",{id:"changed-srccomponentschatslistscreenchatslisttsx-3"},"Changed src","/","components","/","ChatsListScreen","/","ChatsList.tsx"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-diff"},'@@ -9,8 +9,10 @@\n \u250a 9\u250a 9\u250a          <img src={chat.picture} alt="Profile" />\n \u250a10\u250a10\u250a          <div>{chat.name}</div>\n \u250a11\u250a11\u250a          {chat.lastMessage && (\n-\u250a12\u250a  \u250a          <div>{chat.lastMessage.content}</div>\n-\u250a13\u250a  \u250a          <div>{chat.lastMessage.createdAt}</div>\n+\u250a  \u250a12\u250a            <>\n+\u250a  \u250a13\u250a              <div>{chat.lastMessage.content}</div>\n+\u250a  \u250a14\u250a              <div>{chat.lastMessage.createdAt}</div>\n+\u250a  \u250a15\u250a            </>\n \u250a14\u250a16\u250a          )}\n \u250a15\u250a17\u250a        </li>\n \u250a16\u250a18\u250a      ))}\n')),(0,i.kt)("p",null,"Let's try again.  This time it looks like the format is not correct, so let's format the date using the ",(0,i.kt)("inlineCode",{parentName:"p"},"moment")," library."),(0,i.kt)("p",null,"Let's install the ",(0,i.kt)("a",{parentName:"p",href:"https://momentjs.com/"},(0,i.kt)("inlineCode",{parentName:"a"},"moment"))," library to wrap ",(0,i.kt)("inlineCode",{parentName:"p"},"lastMessage.createdAt")," with a better format.\nMoment has the ability to wrap date objects nicely and rewrite them in a pretty format.\nThis way we can have an elegant time format at which the message was sent e.g. ",(0,i.kt)("inlineCode",{parentName:"p"},"11:34"),".\nTo install:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"$ yarn add moment\n")),(0,i.kt)("p",null,"And now let's import the library by its name, wrap the value of each chat and call the ",(0,i.kt)("inlineCode",{parentName:"p"},"format")," function with our requested format:"),(0,i.kt)("h4",{id:"client-step-112-success-adding-last-message-to-chatslist"},(0,i.kt)("a",{parentName:"h4",href:"https://github.com/Urigo/WhatsApp-Clone-Client-React/commit/0656502756f4f21c39041f6f9ffa04bedcf66b81"},(0,i.kt)("strong",{parentName:"a"},"Client")," Step 1.12: Success adding last message to ChatsList")),(0,i.kt)("h5",{id:"changed-srccomponentschatslistscreenchatslisttsx-4"},"Changed src","/","components","/","ChatsListScreen","/","ChatsList.tsx"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-diff"},"@@ -1,5 +1,6 @@\n \u250a1\u250a1\u250aimport React from 'react';\n \u250a2\u250a2\u250aimport { chats } from '../../db';\n+\u250a \u250a3\u250aimport moment from 'moment';\n \u250a3\u250a4\u250a\n \u250a4\u250a5\u250aconst ChatsList: React.FC = () => (\n \u250a5\u250a6\u250a  <div>\n")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-diff"},"@@ -11,7 +12,7 @@\n \u250a11\u250a12\u250a          {chat.lastMessage && (\n \u250a12\u250a13\u250a            <>\n \u250a13\u250a14\u250a              <div>{chat.lastMessage.content}</div>\n-\u250a14\u250a  \u250a              <div>{chat.lastMessage.createdAt}</div>\n+\u250a  \u250a15\u250a              <div>{moment(chat.lastMessage.createdAt).format('HH:mm')}</div>\n \u250a15\u250a16\u250a            </>\n \u250a16\u250a17\u250a          )}\n \u250a17\u250a18\u250a        </li>\n")),(0,i.kt)("p",null,"If you try to run the app you'll see that everything is there, but it's not hard to notice that it's missing some style:"),(0,i.kt)("p",null,(0,i.kt)("img",{parentName:"p",src:"https://user-images.githubusercontent.com/7648874/54028578-73099b80-41e0-11e9-803a-7469300acb06.png",alt:"naked-chats-list"})),(0,i.kt)("p",null,"In the next chapter we will take care of styling our application with ",(0,i.kt)("a",{parentName:"p",href:"https://material-ui.com/"},"Material-UI")," and ",(0,i.kt)("a",{parentName:"p",href:"https://www.styled-components.com/"},"styled-components")," - we will give it the desired look and make it more user friendly. For now the ChatsListScreen serves no purpose, because you can't really do anything with it, but it can be used as a great basis to build on top of as we make progress."),(0,i.kt)("p",null,"TODO: Define and use Prettier.\nTODO: Editor and Prettier, extensions - Auto Import, GitLens, npm Intellisense, TypeScript Importer - works when Auto Import doesn't\nTODO: react-dev-tools, go through everything on dev tools.\nTODO: build. show built code. show it on file and show it on the browser.\nTODO: Go through all of ",(0,i.kt)("a",{parentName:"p",href:"https://facebook.github.io/create-react-app/docs/"},"https://facebook.github.io/create-react-app/docs/"),"\nTODO: Should we talk about Storybook?\nTODO: Should we use \u201c\u201d or \u2018\u2019?\nTODO: Should we use date-fns instead of moment?"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:"left"},(0,i.kt)("a",{parentName:"th",href:"https://github.com/Urigo/WhatsApp-Clone-Tutorial/tree/master@next/README.md"},"< Intro")),(0,i.kt)("th",{parentName:"tr",align:"right"},(0,i.kt)("a",{parentName:"th",href:"https://github.com/Urigo/WhatsApp-Clone-Tutorial/tree/master@next/.tortilla/manuals/views/step2.md"},"Next Step >"))))))}d.isMDXComponent=!0}}]);